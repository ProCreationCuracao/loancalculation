:root {
  --bg: #f5f5f7;
  --fg: #263238;
  --primary: #ec407a;
  --card-bg: #fff;
}
* { box-sizing:border-box; margin:0; padding:0; }
body {
  font-family:-apple-system,BlinkMacSystemFont,sans-serif;
  background:var(--bg); color:var(--fg);
  padding-bottom:env(safe-area-inset-bottom);
}

/* Header */
header { display:flex; align-items:center; justify-content:center; background:var(--primary); color:#fff; padding:12px; }
.logo { height:32px; margin-right:8px; }

/* Segmented */
.segmented-control { display:flex; margin:8px; background:var(--card-bg); border-radius:8px; overflow:hidden; box-shadow:0 1px 3px rgba(0,0,0,0.1); }
.segmented-control button { flex:1; padding:8px; border:none; background:transparent; color:var(--fg); cursor:pointer; transition:background .2s; }
.segmented-control button.active { background:var(--primary); color:#fff; }

/* Tabs */
.tab { display:none; padding:0 16px; }
.tab.active { display:block; }

/* Dashboard */
.cards { display:grid; grid-template-columns:repeat(auto-fit,minmax(140px,1fr)); gap:12px; margin:16px 0; }
.card { background:var(--card-bg); border-radius:12px; padding:16px; text-align:center; box-shadow:0 2px 6px rgba(0,0,0,0.1); }
.card h3 { margin-bottom:8px; } .card p { font-size:20px; }

/* Charts */
.charts { display:grid; gap:16px; margin-bottom:16px; }
@media(min-width:600px){ .charts{grid-template-columns:1fr 1fr;} }

/* Calculator */
.calc-container { background:var(--card-bg); border-radius:12px; padding:16px; box-shadow:0 2px 6px rgba(0,0,0,0.1); margin-bottom:16px; }
.calc-container input, .calc-container button { width:100%; padding:12px; margin-bottom:12px; border:1px solid #ccc; border-radius:8px; }
.calc-container button { background:var(--fg); color:#fff; }

/* Results grid */
.results { display:grid; grid-template-columns:repeat(auto-fit,minmax(120px,1fr)); gap:12px; margin-bottom:16px; }
.results div { background:var(--card-bg); border-radius:8px; padding:12px; text-align:center; box-shadow:0 1px 3px rgba(0,0,0,0.1); }
.results .create-btn { grid-column:1/-1; background:var(--primary); color:#fff; padding:12px; border:none; border-radius:8px; }

/* Schedule */
.schedule { overflow-x:auto; margin-top:16px; }
.schedule table { width:100%; border-collapse:collapse; table-layout:fixed; }
.schedule th, .schedule td { padding:8px; text-align:right; border:1px solid #eee; font-size:14px; word-wrap:break-word; }
.schedule th { background:#f0f0f0; } 
@media(max-width:600px){ .schedule table,thead,tbody,tr,th,td{display:block;} thead tr{position:absolute;left:-9999px;} tr{margin:0 0 1rem;} td{border:none;position:relative;padding-left:50%;text-align:left;} td:before{position:absolute;top:8px;left:6px;width:45%;font-weight:bold;} td:nth-of-type(1):before{content:"Mo";} td:nth-of-type(2):before{content:"Payment";} td:nth-of-type(3):before{content:"Interest";} }

/* Total interest */
.total-interest { text-align:center; margin-top:12px; font-size:16px; font-weight:bold; color:var(--primary); }

/* Loans */
.loan-filters { display:flex; gap:8px; margin:16px 0 8px; }
.loan-filters input, .loan-filters select { flex:1; padding:8px; border:1px solid #ccc; border-radius:8px; }
.loan-list { display:flex; flex-direction:column; gap:12px; }
.loan-card { background:var(--card-bg); border-radius:12px; box-shadow:0 2px 6px rgba(0,0,0,0.1); overflow:hidden; max-height:60px; transition:max-height .3s; position:relative; cursor:pointer; }
.loan-card.expanded { max-height:600px; }
.loan-card-title { padding:16px; font-weight:bold; }
.loan-card-details, .breakdown { padding:0 16px 16px; display:none; font-size:14px; }
.loan-card.expanded .loan-card-details, .loan-card.expanded .breakdown { display:block; }
.loan-card button { position:absolute; bottom:16px; right:16px; background:var(--primary); color:#fff; border:none; padding:8px 12px; border-radius:8px; }

/* FAB */
.fab { display:none; position:fixed; bottom:calc(20px+env(safe-area-inset-bottom)); right:20px; width:56px; height:56px; background:var(--primary); color:#fff; border:none; border-radius:50%; font-size:32px; cursor:pointer; box-shadow:0 4px 8px rgba(0,0,0,0.2); z-index:1001; }

/* Modals */
.modal { position:fixed; inset:0; background:rgba(0,0,0,0.4); display:none; align-items:flex-end; z-index:1000; }
.modal.show { display:flex; }
.bottom-sheet { background:var(--card-bg); border-top-left-radius:16px; border-top-right-radius:16px; padding:16px; width:100%; max-height:80vh; transform:translateY(100%); transition:transform .3s ease-out; }
.modal.show .bottom-sheet { transform:translateY(0); }
.sheet-handle { width:40px; height:4px; background:#ccc; border-radius:2px; margin:0 auto 16px; }
.form-group { margin-bottom:12px; }
.form-group input { width:100%; padding:12px; border:1px solid #ccc; border-radius:8px; }

/* Buttons in sheet */
.sheet-btn { width:100%; padding:14px; background:var(--primary); color:#fff; border:none; border-radius:8px; cursor:pointer; }

/* Settings */
.settings-container { background:var(--card-bg); border-radius:12px; padding:16px; box-shadow:0 2px 6px rgba(0,0,0,0.1); }
.settings-container label { display:flex; justify-content:space-between; align-items:center; margin-bottom:12px; }
